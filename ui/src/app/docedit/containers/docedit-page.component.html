<div fxLayout="row">
	<mat-card fxFlex="75">
		<mat-sidenav-container
	    class="comment-sidenav-container" (backdropClick)="close()">
			<mat-sidenav #sidenav (keydown.escape)="close()" disableClose class="comment-sidenav">
		    <p><button mat-button (click)="close()">Close</button></p>
		    <med-comment [comments]="comments"></med-comment>
		    <form [formGroup]="commentForm" (ngSubmit)="onFormSubmit(commentForm.value)">
				  <mat-card class="reply-card">
				    <mat-card-content>
				      <mat-form-field class="reply-form-field">
				        <input matInput placeholder="Author" formControlName="author">
				      </mat-form-field>
				      <mat-form-field class="reply-form-field">
				        <textarea matInput placeholder="Comment" formControlName="text"></textarea>
				      </mat-form-field>
				     </mat-card-content>
				  <mat-card-actions>
				    <button type="submit" mat-button color="primary">
				      <mat-icon>send</mat-icon>
				      Send
				    </button>
				    <button mat-button color="primary" (click)="comment.replyTo = false">
				      <mat-icon>close</mat-icon>
				      Close
				    </button>
				  </mat-card-actions>
				 </mat-card>
				</form>
		  </mat-sidenav>
			<mat-sidenav-content>
		    <mat-card-title>
					<i class="icon-badge icon-badge-sm fa {{(model$ | async)?.icon?.name }}" [style.background-color]="(model$ | async)?.icon?.color"></i>
					{{(model$ | async)?.name}}
				</mat-card-title>
				<mat-card-subtitle>
					{{(model$ | async)?.description}}
				</mat-card-subtitle>
				<mat-card-content>
					<button mat-mini-fab class="comment-btn" matBadge="8" matBadgeColor="warn" (click)="sidenav.open()"><mat-icon>chat</mat-icon></button>
					<med-document-edit
						[document]="document$ | async"
						(submitDocument)="submitDocument($event)">
					</med-document-edit>
				</mat-card-content>
	  	</mat-sidenav-content>
		</mat-sidenav-container>
	</mat-card>
	<div fxFlex="2"></div>
	<div fxFlex="23">
		<med-doc-history
			[dochistory]="history$ | async"
			[selectedHistory]= "selectedHistory$ | async"
			(loadVersion)="loadVersion($event)"></med-doc-history>
	</div>
</div>
