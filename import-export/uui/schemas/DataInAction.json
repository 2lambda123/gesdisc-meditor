{
    "titleProperty": "title",
    "name": "Data-In-Action",
    "description": "News specifically highlighting GES DISC data, how it is related to earth science phenomena and how it can be used to answer pressing earth science questions.",
    "category": "GESDISC",
    "workflow": "Edit-Review-Publish",
    "icon": {
        "name": "fa-newspaper-o",
        "color": "#679AF9"
    },
    "schema": {
        "$schema": "http://json-schema.org/schema#",
        "$id": "https://disc.gsfc.nasa.gov/schemas/model.json",
        "type": "object",
        "definitions": {
            "section": {
                "type": "object",
                "properties": {
                    "heading": {
                        "type": "string",
                        "required": true
                    },
                    "body": {
                        "type": "string",
                        "contentMediaType": "text/html",
                        "required": true
                    }
                }
            },
            "imageUrl": {
                "type": "object",
                "properties": {
                    "url": {
                        "type": "string",
                        "required": true
                    },
                    "caption": {
                        "type": "string",
                        "required": true
                    }
                }
            },
            "links": {
                "type": "object",
                "properties": {
                    "url": {
                        "type": "string",
                        "required": true
                    },
                    "label": {
                        "type": "string",
                        "required": true
                    },
                    "tooltip": {
                        "type": "string"
                    }
                }
            },
            "phenomena": {
                "type": "string",
                "enum": [
                    "Fire",
                    "Blizzard",
                    "Freeze and Frost",
                    "Lightning",
                    "Volcano",
                    "Hurricane",
                    "Severe Storm",
                    "Wave",
                    "Flood",
                    "Ice Storm",
                    "Snow Storm",
                    "Tornado",
                    "Wave Storm"
                ]
            }
        },
        "properties": {
            "title": {
                "type": "string",
                "required": true
            },
            "description": {
                "type": "string"
            },
            "introduction": {
                "type": "string",
                "contentMediaType": "text/html",
                "required": true
            },
            "sections": {
                "description": "Article sections",
                "type": "array",
                "items": {
                    "$ref": "#/definitions/section"
                },
                "minItems": 1
            },
            "images": {
                "description": "Figures for article",
                "type": "array",
                "items": {
                    "$ref": "#/definitions/imageUrl"
                },
                "minItems": 1
            },
            "spatialCoverage": {
                "type": "string"
            },
            "temporalCoverage": {
                "type": "string",
                "required": true
            },
            "dataLinks": {
                "description": "Links for getting data",
                "type": "array",
                "items": {
                    "$ref": "#/definitions/links"
                },
                "minItems": 1
            },
            "additionalInformation": {
                "description": "References, links to publications, external web sites or other GES DISC articles",
                "type": "array",
                "items": {
                    "$ref": "#/definitions/links"
                },
                "minItems": 0
            },
            "relatedPhenomena": {
                "description": "Classify this article by phenom type - drop-down list",
                "type": "array",
                "items": {
                    "$ref": "#/definitions/phenomena"
                },
                "uniqueItems": true
            },
            "tags": {
                "type": "array",
                "title": "Tags",
                "items": {
                    "type": "string",
                    "enum": ["placeholder"]
                },
                "required": false
            },
            "datasets": {
                "type": "array",
                "title": "Related Datasets",
                "items": {
                    "type": "string",
                    "enum": ["placeholder"]
                },
                "required": false
            },
            "authors": {
                "type": "string",
                "required": true
            },
            "notes": {
                "type": "string",
                "title": "Revision Comments",
                "required": false
            }
        }
    },
    "layout": [
        "title",
        "description",
        "spatialCoverage",
        "temporalCoverage",
        {"key": "introduction", "type": "ckeditor"},
        {
            "key": "sections",  
            "type": "array",
            "items": [
                "sections[].heading",
                {"key": "sections[].body", "type": "ckeditor"}
            ]
        },
        {"key": "images", "type": "array", "items": [
                "images[].url", "images[].caption"
            ]
        },
        {"key": "dataLinks", "type": "array", "items": [
                "dataLinks[].url", "dataLinks[].label", "dataLinks[].tooltip"
            ]
        },
        {"key": "additionalInformation", "type": "array", "items": [
                "additionalInformation[].url", "additionalInformation[].label", "additionalInformation[].tooltip"
            ]
        },
        {"key": "relatedPhenomena", "type": "multi-select"},
        {"key": "datasets", "type": "multi-select"},
        {"key": "tags", "type": "multi-select"},
        "authors",
        "notes"
    ],
    "templates" : [
		{
			"jsonpath" : "$.properties.tags.items.enum",
			"macro" : "fetch tags"
        },
        {
			"jsonpath" : "$.properties.datasets.items.enum",
			"macro" : "fetch datasets"
		}
	],
    "x-meditor": {
        "model": "Models",
        "modifiedOn": "$TODAY",
        "modifiedBy": "$AUTHOR",
        "states": [{
            "source": "Init",
            "target": "Draft",
            "modifiedOn": "$TODAY"
        }]
    }
}